webpackJsonp([1],{"+YNr":function(e,t){e.exports={_from:"web3",_id:"web3@1.0.0-beta.26",_inBundle:!1,_integrity:"sha1-u0ba9q78MT92iz3jnX9KjXvQZmM=",_location:"/web3",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"web3",name:"web3",escapedName:"web3",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/web3/-/web3-1.0.0-beta.26.tgz",_shasum:"bb46daf6aefc313f768b3de39d7f4a8d7bd06663",_spec:"web3",_where:"/Users/sunbobin/blockchain/pls-games/web",author:{name:"ethereum.org"},authors:[{name:"Fabian Vogelsteller",email:"fabian@ethereum.org",homepage:"http://frozeman.de"},{name:"Marek Kotewicz",email:"marek@parity.io",url:"https://github.com/debris"},{name:"Marian Oancea",url:"https://github.com/cubedro"},{name:"Gav Wood",email:"g@parity.io",homepage:"http://gavwood.com"},{name:"Jeffery Wilcke",email:"jeffrey.wilcke@ethereum.org",url:"https://github.com/obscuren"}],bugs:{url:"https://github.com/ethereum/web3.js/issues"},bundleDependencies:!1,dependencies:{"web3-bzz":"^1.0.0-beta.26","web3-core":"^1.0.0-beta.26","web3-eth":"^1.0.0-beta.26","web3-eth-personal":"^1.0.0-beta.26","web3-net":"^1.0.0-beta.26","web3-shh":"^1.0.0-beta.26","web3-utils":"^1.0.0-beta.26"},deprecated:!1,description:"Ethereum JavaScript API",keywords:["Ethereum","JavaScript","API"],license:"LGPL-3.0",main:"src/index.js",name:"web3",namespace:"ethereum",repository:{type:"git",url:"https://github.com/ethereum/web3.js/tree/master/packages/web3"},types:"index.d.ts",version:"1.0.0-beta.26"}},"+skl":function(e,t){},0:function(e,t){},"05Fe":function(e,t){},1:function(e,t){},2:function(e,t){},"4Vh3":function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"6ZSt":function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"8YCc":function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},KYqO:function(e,t){e.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"/Users/sunbobin/blockchain/pls-games/web/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},NHnr:function(e,t,a){"use strict";function c(e){a("j5Bw")}function n(e){a("05Fe")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),s={name:"app"},d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},f=[],i={render:d,staticRenderFns:f},r=i,b=a("VU/8"),l=c,u=b(s,r,!1,l,null,null),h=u.exports,p=a("BTaQ"),m=a.n(p),g=a("/ocq"),_=a("mvHQ"),v=a.n(_),y=a("//Fk"),A=a.n(y),w=a("Gu7T"),S=a.n(w),k=a("Zrlr"),E=a.n(k),I=a("wxAW"),C=a.n(I),R=a("qFzt"),B=a("MN9Z");if(void 0===D)var D=a("7t+N");var T=function(){function e(t,a,c,n,o){E()(this,e),t||(t="http://localhost:8545"),"undefined"!=typeof web3?this.web3=new B(web3.currentProvider):this.web3=new B(new B.providers.HttpProvider(t)),this.contract=new this.web3.eth.Contract(c,a),this.token=new this.web3.eth.Contract(o,n),this.decimals=18,this.secret=this.web3.utils.utf8ToHex("ethereum"),this.nonce=256}return C()(e,[{key:"encodeHex",value:function(e,t){return e="number"==typeof e?e.toString(16):[].concat(S()(e)).map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(""),e.padStart(t,"0")}},{key:"SecretHash",value:function(e,t,a,c,n){return this.contract.methods.calculateSecretHash(this.nonce,t,this.secret).call({from:e},function(e,t){if(e)return console.error(e),n(e);var o="";return o="betWithRound"===a?R.methodID("betWithRound",["uint256","bytes32"]).toString("hex")+R.rawEncode(["uint256","bytes32"],[""+c,t]).toString("hex"):R.methodID("startRoundWithFirstBet",["uint256","uint256","uint256","bytes32"]).toString("hex")+R.rawEncode(["uint256","uint256","uint256","bytes32"],["2","100","100",t]).toString("hex"),n(null,o)})}},{key:"num2bal",value:function(e){return Math.floor(e*Math.pow(10,this.decimals))}},{key:"bal2num",value:function(e){return e&&e.div?e.div(Math.pow(10,this.decimals)):e/Math.pow(10,this.decimals)}},{key:"getAccounts",value:function(e){return this.web3.eth.getAccounts(e)}},{key:"getTokenInfo",value:function(e,t){var a=this;this.token.methods.balanceOf(e).call(function(e,c){return e?t(e,null):t(null,{name:"PLS",symbol:"PLS",decimals:18,balance:a.bal2num(c)})})}},{key:"doBet",value:function(e,t,a,c){var n=this;t=this.web3.utils.toWei(""+t,"ether");return this.token.methods.balanceOf(e).call({from:e},function(o,s){return o?c(o):s>=t?n.token.methods["transfer(address,uint256,bytes)"](n.contract.options.address,t,a).send({from:e,gas:6e5}).on("transactionHash",function(e){}).on("receipt",function(e){}).on("confirmation",function(e,t){if(20==e)return c(null,t)}).on("error",console.error):c(new Error("Not enough tokens.Token balance = "+n.bal2num(s)+", required = "+n.bal2num(t)))})}},{key:"buyToken",value:function(e,t,a,c){return this.token.methods.mint(t,this.web3.utils.toWei(""+a,"ether")).send({from:e}).on("transactionHash",function(e){}).on("receipt",function(e){}).on("confirmation",function(e,t){if(20==e)return c(null,t)}).on("error",console.error)}},{key:"getRoundCount",value:function(e,t){return this.contract.methods.roundCount().call({from:e},function(e,a){return e?(console.error(e),t(e)):t(null,a)})}},{key:"getBetCount",value:function(e,t){return this.contract.methods.betCount().call({from:e},function(e,a){return e?(console.error(e),t(e)):t(null,a)})}},{key:"settleBet",value:function(e,t,a){var c=this;return this.contract.methods.finalizeRound(e).send({from:t},function(e,n){return e?(console.error(e),a(e)):c.withdrawbet(t,a)})}},{key:"withdrawbet",value:function(e,t){return this.contract.methods.withdraw().send({from:e},function(e,a){return e?(console.error(e),t(e)):t(e,a)})}},{key:"getBetRevealed",value:function(e,t){return this.contract.methods.betRevealed(e).call({},function(e,a){return e?(console.error(e),t(e)):(console.log("betRevealed",a),t(e,a))})}},{key:"getRoundInfo",value:function(e,t){return this.contract.methods.rounds(e).call({},function(e,a){return e?(console.error(e),t(e)):t(e,a)})}},{key:"reviewerBet",value:function(e,t,a,c){return this.contract.methods.revealBet(t,this.nonce,a,this.secret).send({from:e},function(e,t){return e?(console.error(e),c(e)):c(e,t)})}},{key:"getWithdraw",value:function(e,t){return this.contract.methods.balancesForWithdraw(e).call({},function(e,a){return e?(console.error(e),t(e)):t(e,a)})}}]),e}(),N={data:function(){return{theme1:"dark",contractAddr:"0xF399B93859A8a003708aA9cBAAE12D8e8B76591d",tokenAddr:"0x221789a8263eb084a7f575b195190cc3373b0c7a",tokenOwner:"0x00a1537d251a6a4c4effAb76948899061FeA47b9",modal_loading:!1,new_bet_modal:!1,bet_modal:!1,spinShow:!1,revealed:!1,account:"",balance:0,roundCount:0,betCount:0,withdraw:!1,currentRound:1,currentBet:null,finalizedBlock:0,formInline:{token:"",address:""},ruleInline:{token:[{required:!0,message:"Please fill in the token",trigger:"blur"}],address:[{required:!0,message:"Please fill in the address.",trigger:"blur"}]}}},watch:{currentRound:function(e){this.refreshAccounts(),console.log(e)}},filters:{revealedStatus:function(e){return!0===e?"over":"going"}},methods:{init:function(){var e=this;this.spinShow=!0,this.axios.get("static/betGame.json").then(function(t){window.pls=new T("http://localhost:8545",e.contractAddr,t.data.betGame,e.tokenAddr,t.data.pls),e.refreshAccounts()}).catch(function(e){console.error("error is "+e)})},changeRound:function(e){this.currentRound=e,this.refreshAccounts()},refreshAccounts:function(){var e=this;this.spinShow=!0,pls.getAccounts(function(t,a){if(!t&&a&&a.length){e.account=a[0];var c=e.getToken(a[0]),n=e.getRounds(a[0]),o=e.getBet(a[0]),s=e.getRevealed(),d=e;A.a.race([c,n,o,s]).then(function(e){d.spinShow=!1},function(e){console.error(e)})}else setTimeout(e.refreshAccounts,1e3)})},getToken:function(e){var t=this;return new A.a(function(a,c){pls.getTokenInfo(e,function(e,c){e&&console.error(e),t.balance=(c.balance||0)+" "+c.symbol,a(!0)})})},getRounds:function(e){var t=this;return new A.a(function(a,c){pls.getRoundCount(e,function(c,n){if(c)console.error(c);else{t.roundCount=parseInt(n);var o=localStorage.getItem(e+"-"+t.currentRound);t.currentBet=null===o?null:JSON.parse(o),a(!0)}})})},getBet:function(e){var t=this;return new A.a(function(a,c){pls.getBetCount(e,function(e,c){e?console.error(e):(t.betCount=c,a(!0))})})},getRevealed:function(){var e=this;return new A.a(function(t,a){pls.getBetRevealed(e.currentRound,function(a,c){a?console.error(a):(e.revealed=c,console.log("getRevealed",c,e.currentRound),pls.getRoundInfo(e.currentRound,function(a,c){e.finalizedBlock=c.finalizedBlock,c.finalizedBlock>0&&pls.getWithdraw(e.account,function(t,a){console.log("getWithdraw",a),e.withdraw=a}),t(!0)}))})})},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.spinShow=!0,pls.buyToken(t.account,t.formInline.address,t.formInline.token,function(e,a){e?(t.spinShow=!1,console.error(e)):(console.log("payToken over",a),t.$Message.success("Success!"),t.refreshAccounts())})):(t.spinShow=!1,t.$Message.error("Fail!"))})},startRound:function(e){var t=this;console.log("guess",e),this.new_bet_modal=!1,this.spinShow=!0;var a="odd"==e;pls.SecretHash(this.account,a,"startRoundWithFirstBet",this.currentRound,function(e,c){e&&console.error(e),pls.doBet(t.account,1e3,"0x"+c,function(e,c){e&&console.error(e),localStorage.setItem(t.account+"-"+t.roundCount,v()({guess:a,betId:t.betCount})),t.refreshAccounts(),console.log("bet success")})})},betWithRound:function(e){var t=this,a="odd"==e;this.spinShow=!0,this.bet_modal=!1,console.log(this.account,a,"betWithRound",this.currentRound),pls.SecretHash(this.account,a,"betWithRound",this.currentRound,function(e,c){e&&console.error(e),pls.doBet(t.account,1e3,"0x"+c,function(e,c){e?console.error(e):(localStorage.setItem(t.account+"-"+t.currentRound,v()({guess:a,betId:t.betCount})),t.refreshAccounts(),console.log("bet success"))})})},reveale:function(){var e=this;if(this.spinShow=!0,null===this.currentBet)return void console.error("review error");pls.reviewerBet(this.account,this.currentBet.betId,this.currentBet.guess,function(t,a){t?(e.spinShow=!1,console.error(t)):e.refreshAccounts()})},settle:function(){var e=this;this.spinShow=!0,0==this.finalizedBlock?pls.settleBet(this.currentRound,this.account,function(t,a){t&&(e.spinShow=!1,console.error(t)),e.refreshAccounts()}):pls.withdrawbet(this.account,function(t,a){t&&(e.spinShow=!1,console.error(t)),e.refreshAccounts()})}},created:function(){this.init()}},L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("div",{staticClass:"layout-content"},[a("div",{staticClass:"layout-content-main"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("User")]),e._v(" "),a("p",[e._v("Account : "+e._s(e.account))]),e._v(" "),a("p",[e._v("Balance : "+e._s(e.balance))])])],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("Bet Round")]),e._v(" "),a("p",[e._v("Current Round : "+e._s(e.currentRound))]),e._v(" "),a("p",[e._v("All Rounds : "+e._s(e.roundCount<=1?0:e.roundCount-1))])])],1),e._v(" "),a("Col",{attrs:{span:"24"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("The Round")]),e._v(" "),a("Button",{staticClass:"new-bet",attrs:{type:"success",size:"small"},on:{click:function(t){e.new_bet_modal=!0}}},[e._v("New Bet")]),e._v(" "),a("p",[e._v("Revealed : "+e._s(e._f("revealedStatus")(e.revealed)))]),e._v(" "),!e.revealed&&e.currentBet?a("Button",{staticClass:"new-bet",attrs:{type:"info",size:"small"},on:{click:e.reveale}},[e._v("Reveal Bet")]):e._e(),e._v(" "),e.revealed||null!==e.currentBet?e._e():a("Button",{staticClass:"new-bet",attrs:{type:"info",size:"small"},on:{click:function(t){e.bet_modal=!0}}},[e._v("Bet this Round")]),e._v(" "),e.revealed&&e.currentBet?a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.settle()}}},[e._v("Finalize THE BET")]):e._e()],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("Row",[a("Col",{attrs:{span:"3",push:"10"}},[a("Page",{attrs:{current:e.currentRound,total:e.roundCount<=1?0:e.roundCount-1,"page-size":1,simple:""},on:{"on-change":e.changeRound}})],1)],1),e._v(" "),e.account===e.tokenOwner?a("Row",[a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"token-sell"},[a("h3",[e._v("Token sell")]),e._v(" "),a("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[a("FormItem",{attrs:{prop:"address"}},[a("Input",{attrs:{type:"text",placeholder:"address"},model:{value:e.formInline.address,callback:function(t){e.$set(e.formInline,"address",t)},expression:"formInline.address"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),a("FormItem",{attrs:{prop:"token"}},[a("Input",{attrs:{type:"text",placeholder:"token",min:"1"},model:{value:e.formInline.token,callback:function(t){e.$set(e.formInline,"token",t)},expression:"formInline.token"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formInline")}}},[e._v("submit")])],1)],1)],1)])],1):e._e(),e._v(" "),a("Modal",{attrs:{title:"Common Modal dialog box title"},model:{value:e.new_bet_modal,callback:function(t){e.new_bet_modal=t},expression:"new_bet_modal"}},[a("p",{staticStyle:{color:"#55b6ff","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("New Bet?")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("Need to open a new game on the gambling game?")]),e._v(" "),a("p",[e._v("What's you choose?")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning",size:"large",loading:e.modal_loading},on:{click:function(t){e.startRound("odd")}}},[e._v("ODD")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large",loading:e.modal_loading},on:{click:function(t){e.startRound("even")}}},[e._v("EVEN")])],1)]),e._v(" "),a("Modal",{attrs:{title:"Common Modal dialog box title"},model:{value:e.bet_modal,callback:function(t){e.bet_modal=t},expression:"bet_modal"}},[a("p",{staticStyle:{color:"#55b6ff","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("Bet this Round?")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("What's you choose?")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"warning",size:"large",loading:e.modal_loading},on:{click:function(t){e.betWithRound("odd")}}},[e._v("ODD")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large",loading:e.modal_loading},on:{click:function(t){e.betWithRound("even")}}},[e._v("EVEN")])],1)])],1)]),e._v(" "),e.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},W=[],F={render:L,staticRenderFns:W},P=F,x=a("VU/8"),j=n,H=x(N,P,!1,j,"data-v-862854f6",null),z=H.exports;o.default.use(g.a);var V=new g.a({routes:[{path:"/",name:"pls",component:z}]}),Y=(a("+skl"),a("mtWM")),M=a.n(Y);o.default.prototype.axios=M.a,o.default.config.productionTip=!1,o.default.use(m.a),new o.default({el:"#app",router:V,template:"<App/>",components:{App:h}})},QDfD:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},eajV:function(e,t){e.exports={_from:"git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible",_id:"websocket@1.0.24",_inBundle:!1,_integrity:"sha1-/uW1jCtXA6WuBzpleayB6iLLY7U=",_location:"/websocket",_phantomChildren:{},_requested:{type:"git",raw:"websocket@git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible",name:"websocket",escapedName:"websocket",rawSpec:"git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible",saveSpec:"git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible",fetchSpec:"git://github.com/frozeman/WebSocket-Node.git",gitCommittish:"browserifyCompatible"},_requiredBy:["/web3-providers-ws"],_resolved:"git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",_spec:"websocket@git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible",_where:"/Users/sunbobin/blockchain/pls-games/web/node_modules/web3-providers-ws",author:{name:"Brian McKelvey",email:"brian@worlize.com",url:"https://www.worlize.com/"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},bundleDependencies:!1,config:{verbose:!1},contributors:[{name:"IÃ±aki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],dependencies:{debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.6"},deprecated:!1,description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.0.1"},directories:{lib:"./lib"},engines:{node:">=0.8.0"},homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",name:"websocket",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.24"}},ejIc:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},j5Bw:function(e,t){},o13F:function(e,t){e.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}},["NHnr"]);
//# sourceMappingURL=app.27c6fe3a2877283557a8.js.map